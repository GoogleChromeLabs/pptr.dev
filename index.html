<!--

    I M P O R T A N T

TL;DR: When changing index.html, bump a "revision" number of the "index.js" entry in "sw.js"

Why?
- There's a service worker powered by Workbox.
- Workbox handles navigation requests separately
- Workbox requires navigation request entries to be pre-cached
- Precaching requires us to version things manually

So here we are.

-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!-- polyfills -->
<script type='text/javascript' src='./src/polyfills.js'></script>

<!-- FavIcons -->
<link rel="apple-touch-icon" sizes="180x180" href="./favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./favicons/favicon-16x16.png">
<link rel="manifest" href="./favicons/site.webmanifest">
<link rel="mask-icon" href="./favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="./favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="msapplication-config" content="./favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- Application source -->
<script type='text/javascript' src='./src/EventEmitter.js'></script>
<script type='text/javascript' src='./src/SidebarComponent.js'></script>
<script type='text/javascript' src='./src/ToolbarComponent.js'></script>
<script type='text/javascript' src='./src/ContentComponent.js'></script>
<script type='text/javascript' src='./src/FuzzySearch.js'></script>
<script type='text/javascript' src='./src/SearchComponent.js'></script>
<script type='text/javascript' src='./src/SettingsComponent.js'></script>
<script type='text/javascript' src='./src/App.js'></script>
<link rel='stylesheet' href='./src/main.css'>
<link rel='stylesheet' href='./src/sidebar-component.css'>
<link rel='stylesheet' href='./src/toolbar-component.css'>
<link rel='stylesheet' href='./src/content-component.css'>
<link rel='stylesheet' href='./src/search-component.css'>
<link rel='stylesheet' href='./src/settings-component.css'>

<!-- Puppeteer renderer -->
<script type='text/javascript' src='./third_party/commonmark.min.js'></script>
<script type='text/javascript' src='./third_party/runmode-standalone.js'></script>
<script type='text/javascript' src='./third_party/javascript.js'></script>
<script type='text/javascript' src='./pptr/APIDocumentation.js'></script>
<script type='text/javascript' src='./pptr/PPTRProduct.js'></script>
<link rel='stylesheet' href='./pptr/style.css'>

<!-- Launching application -->
<script type="text/javascript">
  window.addEventListener('DOMContentLoaded', async () => {
    window.app = new App(document.body);
    const product = await PPTRProduct.create();
    app.initialize(product);
  });
  window.addEventListener('load', () => {
    if ('serviceWorker' in navigator)
      navigator.serviceWorker.register('/sw.js');
  });
</script>
